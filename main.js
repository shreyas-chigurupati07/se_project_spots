!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(r.inputErrorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?n(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)};function o(e,t,r="Save",n="Saving..."){e.textContent=t?n:r}const a=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}addNewCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}likeCard(e,t){const r=t?"DELETE":"PUT";return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:r,headers:this._headers}).then(this._handleServerResponse)}editAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"14f5d8b0-836a-4344-a24a-74af9df65553","Content-Type":"application/json"}});a.getAppInfo().then(([e,t])=>{e.forEach(e=>{const t=A(e);U.append(t)}),h.src=t.avatar,m.textContent=t.name,v.textContent=t.about}).catch(e=>{console.error(e)});const l=document.querySelector(".profile__edit-btn"),c=document.querySelector("#edit-profile-modal"),s=c.querySelector(".modal__close-btn"),i=c.querySelector(".modal__form"),d=c.querySelector("#edit-profile-name"),u=c.querySelector("#edit-profile-description"),_=c.querySelector(".modal__save-btn"),m=document.querySelector(".profile__name"),v=document.querySelector(".profile__description"),h=document.querySelector(".profile__avatar"),f=document.querySelector("#preview-modal"),p=f.querySelector(".modal__close-btn"),S=f.querySelector(".modal__image"),y=f.querySelector(".modal__caption"),b=document.querySelector("#delete-confirmation-modal"),q=b.querySelector(".modal__close-btn"),E=b.querySelector(".modal__delete-confirmation-btn"),k=b.querySelector(".modal__cancel-confirmation-btn"),L=document.querySelector(".profile__avatar-edit-btn"),C=(document.querySelector(".profile__avatar-container"),document.querySelector("#edit-avatar-modal")),g=C.querySelector(".modal__close-btn"),D=document.querySelector("#card-template").content.querySelector(".card"),U=document.querySelector(".cards__list");let $,x;function A(e){const t=D.cloneNode(!0);e&&e._id&&(t.dataset.id=e._id);const r=t.querySelector(".card__title"),n=t.querySelector(".card__image");n.src=e.link,n.alt=e.name,r.textContent=e.name;const o=t.querySelector(".card__like-btn");return e&&e.isLiked&&o.classList.add("card__like-btn_active"),o.addEventListener("click",t=>{t.preventDefault(),x=e._id;const r=o.classList.contains("card__like-btn_active");a.likeCard(x,r).then(e=>{o.classList.toggle("card__like-btn_active")}).catch(e=>{console.error(e)})}),t.querySelector(".card__delete-btn").addEventListener("click",r=>function(e,t){$=e,x=t._id,R(b)}(t,e)),n.addEventListener("click",()=>{S.src=e.link,S.alt=e.name,y.textContent=e.name,R(f)}),t}function I(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&T(e)}}function R(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",I),e.addEventListener("click",w)}function T(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",I),e.removeEventListener("click",w)}function w(e){e.target===e.currentTarget&&T(e.target)}q.addEventListener("click",function(e){e.preventDefault(),T(b)}),k.addEventListener("click",e=>{e.preventDefault(),T(b)}),E.addEventListener("click",function(e){e.preventDefault(),o(E,!0,"Delete","Deleting..."),a.deleteCard(x).then(()=>{$.remove(),T(b)}).catch(console.error).finally(()=>{o(E,!1,"Delete","Deleting...")})}),l.addEventListener("click",function(r){var n,o;r.preventDefault(),d.value=m.textContent,u.value=v.textContent,n=i,o=e,[d,u].forEach(e=>{t(n,e,o)}),R(c)}),s.addEventListener("click",function(e){e.preventDefault(),T(c)});const N=document.querySelector(".profile__add-btn"),P=document.querySelector("#new-post-modal"),B=P.querySelector(".modal__close-btn");N.addEventListener("click",function(e){e.preventDefault(),R(P)}),B.addEventListener("click",function(e){e.preventDefault(),T(P)}),p.addEventListener("click",e=>{e.preventDefault(),T(f)}),i.addEventListener("submit",function(e){e.preventDefault(),o(_,!0),a.editUserInfo({name:d.value,about:u.value}).then(e=>{m.textContent=e.name,v.textContent=e.about,T(c)}).catch(console.error).finally(()=>{o(_,!1)})});const O=P.querySelector(".modal__form"),j=P.querySelector("#card-link-input"),J=P.querySelector("#card-caption-input"),H=P.querySelector(".modal__save-btn");O.addEventListener("submit",function(t){t.preventDefault(),o(H,!0),a.addNewCard({name:J.value,link:j.value}).then(r=>{const o=A(r);U.prepend(o),t.target.reset(),n(H,e),T(P)}).catch(console.error).finally(()=>{o(H,!1)})});const z=C.querySelector(".modal__form"),M=C.querySelector("#edit-profile-picture");var F;C.querySelector(".modal__save-btn"),g.addEventListener("click",e=>{e.preventDefault(),T(C)}),L.addEventListener("click",e=>{e.preventDefault(),R(C)}),z.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;o(t,!0),a.editAvatar(M.value).then(e=>{h.src=e.avatar,z.reset(),T(C)}).catch(console.error).finally(()=>{o(t,!1)})}),F=e,document.querySelectorAll(F.formSelector).forEach(e=>{((e,n)=>{const o=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);r(o,a,n),o.forEach(l=>{l.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{e.querySelector(`#${t.id}-error`).textContent=r,t.classList.add(n.inputErrorClass)})(e,r,r.validationMessage,n)})(e,l,n),r(o,a,n)})})})(e,F)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QmJtSixFQUFDckosRUFBUUMsRUFBU3FKLEVBQVVwSixLQUM5QkYsRUFBT0csY0FBYyxJQUFJRixFQUFRRyxZQUN6Q0MsWUFBY2lKLEVBQ3pCckosRUFBUUssVUFBVVksSUFBSWhCLEVBQU9MLGtCQVczQndKLENBQWVySixFQUFRQyxFQUFTQSxFQUFRc0osa0JBQW1CckosSUF3Q3pEa0osQ0FBbUJwSixFQUFRbUosRUFBY2pKLEdBQ3pDTSxFQUFrQkMsRUFBV3lJLEVBQWVoSixFQUM5QyxNQU9BNkksQ0FBa0IvSSxFQUFRRSxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9oZWxwZXJzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgZXJyb3JNc2csIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gIGVycm9yTXNnRWwudGV4dENvbnRlbnQgPSBlcnJvck1zZztcbiAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xuICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gIH0pO1xufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWwsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgYnV0dG9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XG4gIGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWxlbWVudCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gIH0pO1xufTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG5cbiAgaW5wdXRMaXN0LmZvckVhY2goKElucHV0RWxlbWVudCkgPT4ge1xuICAgIElucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgSW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcbiAgfSk7XG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHNldEJ1dHRvblRleHQoXG4gIGJ0bixcbiAgaXNMb2FkaW5nLFxuICBkZWZhdWx0VGV4dCA9IFwiU2F2ZVwiLFxuICBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIsXG4pIHtcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICB9IGVsc2Uge1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IGRlZmF1bHRUZXh0O1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBlbmFibGVWYWxpZGF0aW9uLFxuICBzZXR0aW5ncyxcbiAgZGlzYWJsZUJ1dHRvbixcbiAgcmVzZXRWYWxpZGF0aW9uLFxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5pbXBvcnQgeyBzZXRCdXR0b25UZXh0IH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlcnMuanNcIjtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMTRmNWQ4YjAtODM2YS00MzQ0LWEyNGEtNzRhZjlkZjY1NTUzXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuYXBpXG4gIC5nZXRBcHBJbmZvKClcbiAgLnRoZW4oKFtjYXJkcywgdXNlcl0pID0+IHtcbiAgICBjYXJkcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWwgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcbiAgICAgIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsKTtcbiAgICB9KTtcblxuICAgIHByb2ZpbGVBdmF0YXJFbGVtZW50LnNyYyA9IHVzZXIuYXZhdGFyO1xuXG4gICAgcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xuICAgIHByb2ZpbGVKb2JFbGVtZW50LnRleHRDb250ZW50ID0gdXNlci5hYm91dDtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG5jb25zdCBlZGl0UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XG5jb25zdCBlZGl0UHJvZmlsZUNsb3NlQnRuID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBuYW1lSW5wdXQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLW5hbWVcIik7XG5jb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNlZGl0LXByb2ZpbGUtZGVzY3JpcHRpb25cIixcbik7XG5jb25zdCBlZGl0UHJvZmlsZVN1Ym1pdEJ0biA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idG5cIik7XG5cbmNvbnN0IHByb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVKb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5cbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdDbG9zZUJ0bkVsZW1lbnQgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgcHJldmlld0ltYWdlRWxlbWVudCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmNvbnN0IHByZXZpZXdOYW1lRWxlbWVudCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xuXG5jb25zdCBkZWxldGVDb25maXJtYXRpb25Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2RlbGV0ZS1jb25maXJtYXRpb24tbW9kYWxcIixcbik7XG5jb25zdCBkZWxldGVDb25maXJtYXRpb25DbG9zZUJ0biA9XG4gIGRlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbmNvbnN0IGRlbGV0ZUNvbmZpcm1hdGlvbkRlbGV0ZUJ0biA9IGRlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19kZWxldGUtY29uZmlybWF0aW9uLWJ0blwiLFxuKTtcbmNvbnN0IGRlbGV0ZUNvbmZpcm1hdGlvbkNhbmNlbEJ0biA9IGRlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19jYW5jZWwtY29uZmlybWF0aW9uLWJ0blwiLFxuKTtcblxuY29uc3QgZWRpdEF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWVkaXQtYnRuXCIpO1xuY29uc3QgZWRpdEF2YXRhckNvbnRhaW5lckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGVfX2F2YXRhci1jb250YWluZXJcIixcbik7XG5jb25zdCBlZGl0QXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLW1vZGFsXCIpO1xuY29uc3QgZWRpdEF2YXRhckNsb3NlQnRuID0gZWRpdEF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKVxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG5sZXQgc2VsZWN0ZWRDYXJkO1xubGV0IHNlbGVjdGVkQ2FyZElkO1xuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcblxuICBpZiAoZGF0YSAmJiBkYXRhLl9pZCkge1xuICAgIGNhcmRFbGVtZW50LmRhdGFzZXQuaWQgPSBkYXRhLl9pZDtcbiAgfVxuICBjb25zdCBjYXJkVGl0bGVFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgY29uc3QgY2FyZEltYWdlRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG5cbiAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZUVsZW1lbnQuYWx0ID0gZGF0YS5uYW1lO1xuICBjYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuXG4gIGNvbnN0IGNhcmRMaWtlQnRuRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIik7XG5cbiAgaWYgKGRhdGEgJiYgZGF0YS5pc0xpa2VkKSB7XG4gICAgY2FyZExpa2VCdG5FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XG4gIH1cblxuICBjYXJkTGlrZUJ0bkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzZWxlY3RlZENhcmRJZCA9IGRhdGEuX2lkO1xuXG4gICAgY29uc3QgaXNDdXJyZW50bHlMaWtlZCA9IGNhcmRMaWtlQnRuRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXG4gICAgICBcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiLFxuICAgICk7XG5cbiAgICBhcGlcbiAgICAgIC5saWtlQ2FyZChzZWxlY3RlZENhcmRJZCwgaXNDdXJyZW50bHlMaWtlZClcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNhcmRMaWtlQnRuRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBjYXJkRGVsZXRlQnRuRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ0blwiKTtcbiAgY2FyZERlbGV0ZUJ0bkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+XG4gICAgaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YSksXG4gICk7XG5cbiAgY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuc3JjID0gZGF0YS5saW5rO1xuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuYWx0ID0gZGF0YS5uYW1lO1xuICAgIHByZXZpZXdOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBvcGVuTW9kYWwocHJldmlld01vZGFsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBkYXRhKSB7XG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xuICBzZWxlY3RlZENhcmRJZCA9IGRhdGEuX2lkO1xuICBvcGVuTW9kYWwoZGVsZXRlQ29uZmlybWF0aW9uTW9kYWwpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBzZXRCdXR0b25UZXh0KGRlbGV0ZUNvbmZpcm1hdGlvbkRlbGV0ZUJ0biwgdHJ1ZSwgXCJEZWxldGVcIiwgXCJEZWxldGluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVDb25maXJtYXRpb25Nb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KFxuICAgICAgICBkZWxldGVDb25maXJtYXRpb25EZWxldGVCdG4sXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBcIkRlbGV0ZVwiLFxuICAgICAgICBcIkRlbGV0aW5nLi4uXCIsXG4gICAgICApO1xuICAgIH0pO1xufVxuXG5kZWxldGVDb25maXJtYXRpb25DbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY2xvc2VNb2RhbChkZWxldGVDb25maXJtYXRpb25Nb2RhbCk7XG59KTtcblxuZGVsZXRlQ29uZmlybWF0aW9uQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjbG9zZU1vZGFsKGRlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsKTtcbn0pO1xuXG5kZWxldGVDb25maXJtYXRpb25EZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZVN1Ym1pdCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBvcGVuTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2lzLW9wZW5lZFwiKTtcbiAgICBpZiAob3Blbk1vZGFsKSB7XG4gICAgICBjbG9zZU1vZGFsKG9wZW5Nb2RhbCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5Y2xpY2spO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG5cbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU92ZXJsYXljbGljayk7XG59XG5cbmVkaXRQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlSm9iRWxlbWVudC50ZXh0Q29udGVudDtcbiAgcmVzZXRWYWxpZGF0aW9uKHByb2ZpbGVGb3JtRWxlbWVudCwgW25hbWVJbnB1dCwgZGVzY3JpcHRpb25JbnB1dF0sIHNldHRpbmdzKTtcbiAgb3Blbk1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZU92ZXJsYXljbGljayhldnQpIHtcbiAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgY2xvc2VNb2RhbChldnQudGFyZ2V0KTtcbiAgfVxufVxuXG5lZGl0UHJvZmlsZUNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xufSk7XG5cbmNvbnN0IG5ld1Bvc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIik7XG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xuY29uc3QgbmV3UG9zdENsb3NlQnRuID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxubmV3UG9zdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgb3Blbk1vZGFsKG5ld1Bvc3RNb2RhbCk7XG59KTtcblxubmV3UG9zdENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XG59KTtcblxucHJldmlld0Nsb3NlQnRuRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY2xvc2VNb2RhbChwcmV2aWV3TW9kYWwpO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgc2V0QnV0dG9uVGV4dChlZGl0UHJvZmlsZVN1Ym1pdEJ0biwgdHJ1ZSk7XG4gIGFwaVxuICAgIC5lZGl0VXNlckluZm8oeyBuYW1lOiBuYW1lSW5wdXQudmFsdWUsIGFib3V0OiBkZXNjcmlwdGlvbklucHV0LnZhbHVlIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgIHByb2ZpbGVKb2JFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KGVkaXRQcm9maWxlU3VibWl0QnRuLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbnByb2ZpbGVGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcblxuY29uc3QgYWRkQ2FyZEZvcm1FbGVtZW50ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBsaW5rSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWxpbmstaW5wdXRcIik7XG5jb25zdCBjYXB0aW9uSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWNhcHRpb24taW5wdXRcIik7XG5jb25zdCBjYXJkU3VibWl0QnRuID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnRuXCIpO1xuXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgc2V0QnV0dG9uVGV4dChjYXJkU3VibWl0QnRuLCB0cnVlKTtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoeyBuYW1lOiBjYXB0aW9uSW5wdXQudmFsdWUsIGxpbms6IGxpbmtJbnB1dC52YWx1ZSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGRhdGEpO1xuICAgICAgY2FyZHNMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuXG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gICAgICBkaXNhYmxlQnV0dG9uKGNhcmRTdWJtaXRCdG4sIHNldHRpbmdzKTtcblxuICAgICAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0QnV0dG9uVGV4dChjYXJkU3VibWl0QnRuLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbmFkZENhcmRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuXG5jb25zdCBlZGl0QXZhdGFyRm9ybUVsZW1lbnQgPSBlZGl0QXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRBdmF0YXJMaW5rSW5wdXQgPSBlZGl0QXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjZWRpdC1wcm9maWxlLXBpY3R1cmVcIixcbik7XG5jb25zdCBhdmF0YXJTYXZlQnRuID0gZWRpdEF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnRuXCIpO1xuXG5lZGl0QXZhdGFyQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNsb3NlTW9kYWwoZWRpdEF2YXRhck1vZGFsKTtcbn0pO1xuZWRpdEF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgb3Blbk1vZGFsKGVkaXRBdmF0YXJNb2RhbCk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlU2F2ZUF2YXRhcihldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGV2dC5zdWJtaXR0ZXI7XG4gIHNldEJ1dHRvblRleHQoc3VibWl0QnRuLCB0cnVlKTtcblxuICBhcGlcbiAgICAuZWRpdEF2YXRhcihlZGl0QXZhdGFyTGlua0lucHV0LnZhbHVlKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBwcm9maWxlQXZhdGFyRWxlbWVudC5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgIGVkaXRBdmF0YXJGb3JtRWxlbWVudC5yZXNldCgpO1xuICAgICAgY2xvc2VNb2RhbChlZGl0QXZhdGFyTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdG4sIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZWRpdEF2YXRhckZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlU2F2ZUF2YXRhcik7XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEFwcEluZm8oKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcbiAgfVxuXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCwgaXNMaWtlZCkge1xuICAgIGNvbnN0IG1ldGhvZCA9IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIjtcblxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBlZGl0QXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsIiwiY29uZmlnIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsIiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsInNldEJ1dHRvblRleHQiLCJidG4iLCJpc0xvYWRpbmciLCJkZWZhdWx0VGV4dCIsImxvYWRpbmdUZXh0IiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZ2V0QXBwSW5mbyIsIlByb21pc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsIl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsImVkaXRVc2VySW5mbyIsIm5hbWUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3Q2FyZCIsImxpbmsiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJpc0xpa2VkIiwiZWRpdEF2YXRhciIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJjYXJkcyIsInVzZXIiLCJmb3JFYWNoIiwiaXRlbSIsImNhcmRFbCIsImdldENhcmRFbGVtZW50IiwiY2FyZHNMaXN0IiwiYXBwZW5kIiwicHJvZmlsZUF2YXRhckVsZW1lbnQiLCJzcmMiLCJwcm9maWxlTmFtZUVsZW1lbnQiLCJwcm9maWxlSm9iRWxlbWVudCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZWRpdFByb2ZpbGVCdG4iLCJkb2N1bWVudCIsImVkaXRQcm9maWxlTW9kYWwiLCJlZGl0UHJvZmlsZUNsb3NlQnRuIiwicHJvZmlsZUZvcm1FbGVtZW50IiwibmFtZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsImVkaXRQcm9maWxlU3VibWl0QnRuIiwicHJldmlld01vZGFsIiwicHJldmlld0Nsb3NlQnRuRWxlbWVudCIsInByZXZpZXdJbWFnZUVsZW1lbnQiLCJwcmV2aWV3TmFtZUVsZW1lbnQiLCJkZWxldGVDb25maXJtYXRpb25Nb2RhbCIsImRlbGV0ZUNvbmZpcm1hdGlvbkNsb3NlQnRuIiwiZGVsZXRlQ29uZmlybWF0aW9uRGVsZXRlQnRuIiwiZGVsZXRlQ29uZmlybWF0aW9uQ2FuY2VsQnRuIiwiZWRpdEF2YXRhckJ0biIsImVkaXRBdmF0YXJNb2RhbCIsImVkaXRBdmF0YXJDbG9zZUJ0biIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJzZWxlY3RlZENhcmQiLCJzZWxlY3RlZENhcmRJZCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsIl9pZCIsImRhdGFzZXQiLCJjYXJkVGl0bGVFbGVtZW50IiwiY2FyZEltYWdlRWxlbWVudCIsImFsdCIsImNhcmRMaWtlQnRuRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImlzQ3VycmVudGx5TGlrZWQiLCJjb250YWlucyIsInRvZ2dsZSIsIm9wZW5Nb2RhbCIsImhhbmRsZURlbGV0ZUNhcmQiLCJoYW5kbGVFc2NhcGUiLCJrZXkiLCJjbG9zZU1vZGFsIiwibW9kYWwiLCJoYW5kbGVPdmVybGF5Y2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImZpbmFsbHkiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JtRWxlbWVudCIsInZhbHVlIiwiaW5wdXRFbGVtZW50IiwibmV3UG9zdEJ0biIsIm5ld1Bvc3RNb2RhbCIsIm5ld1Bvc3RDbG9zZUJ0biIsImFkZENhcmRGb3JtRWxlbWVudCIsImxpbmtJbnB1dCIsImNhcHRpb25JbnB1dCIsImNhcmRTdWJtaXRCdG4iLCJwcmVwZW5kIiwicmVzZXQiLCJlZGl0QXZhdGFyRm9ybUVsZW1lbnQiLCJlZGl0QXZhdGFyTGlua0lucHV0Iiwic3VibWl0QnRuIiwic3VibWl0dGVyIiwicXVlcnlTZWxlY3RvckFsbCIsInNldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwiYnV0dG9uRWxlbWVudCIsIklucHV0RWxlbWVudCIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNc2ciLCJ2YWxpZGF0aW9uTWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9